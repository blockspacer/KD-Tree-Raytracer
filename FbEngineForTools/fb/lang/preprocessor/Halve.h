#ifndef FB_LANG_PLATFORM_HALVE_H
#define FB_LANG_PLATFORM_HALVE_H

// This macro can be used to divide number by two in preprocessor.

// Define allowed cases (max 255, increase if needed).
#define FB_PP_HALVE_AT_1   error
#define FB_PP_HALVE_AT_2   1
#define FB_PP_HALVE_AT_3   error
#define FB_PP_HALVE_AT_4   2
#define FB_PP_HALVE_AT_5   error
#define FB_PP_HALVE_AT_6   3
#define FB_PP_HALVE_AT_7   error
#define FB_PP_HALVE_AT_8   4
#define FB_PP_HALVE_AT_9   error
#define FB_PP_HALVE_AT_10  5
#define FB_PP_HALVE_AT_11  error
#define FB_PP_HALVE_AT_12  6
#define FB_PP_HALVE_AT_13  error
#define FB_PP_HALVE_AT_14  7
#define FB_PP_HALVE_AT_15  error
#define FB_PP_HALVE_AT_16  8
#define FB_PP_HALVE_AT_17  error
#define FB_PP_HALVE_AT_18  9
#define FB_PP_HALVE_AT_19  error
#define FB_PP_HALVE_AT_20  10
#define FB_PP_HALVE_AT_21  error
#define FB_PP_HALVE_AT_22  11
#define FB_PP_HALVE_AT_23  error
#define FB_PP_HALVE_AT_24  12
#define FB_PP_HALVE_AT_25  error
#define FB_PP_HALVE_AT_26  13
#define FB_PP_HALVE_AT_27  error
#define FB_PP_HALVE_AT_28  14
#define FB_PP_HALVE_AT_29  error
#define FB_PP_HALVE_AT_30  15
#define FB_PP_HALVE_AT_31  error
#define FB_PP_HALVE_AT_32  16
#define FB_PP_HALVE_AT_33  error
#define FB_PP_HALVE_AT_34  17
#define FB_PP_HALVE_AT_35  error
#define FB_PP_HALVE_AT_36  18
#define FB_PP_HALVE_AT_37  error
#define FB_PP_HALVE_AT_38  19
#define FB_PP_HALVE_AT_39  error
#define FB_PP_HALVE_AT_40  20
#define FB_PP_HALVE_AT_41  error
#define FB_PP_HALVE_AT_42  21
#define FB_PP_HALVE_AT_43  error
#define FB_PP_HALVE_AT_44  22
#define FB_PP_HALVE_AT_45  error
#define FB_PP_HALVE_AT_46  23
#define FB_PP_HALVE_AT_47  error
#define FB_PP_HALVE_AT_48  24
#define FB_PP_HALVE_AT_49  error
#define FB_PP_HALVE_AT_50  25
#define FB_PP_HALVE_AT_51  error
#define FB_PP_HALVE_AT_52  26
#define FB_PP_HALVE_AT_53  error
#define FB_PP_HALVE_AT_54  27
#define FB_PP_HALVE_AT_55  error
#define FB_PP_HALVE_AT_56  28
#define FB_PP_HALVE_AT_57  error
#define FB_PP_HALVE_AT_58  29
#define FB_PP_HALVE_AT_59  error
#define FB_PP_HALVE_AT_60  30
#define FB_PP_HALVE_AT_61  error
#define FB_PP_HALVE_AT_62  31
#define FB_PP_HALVE_AT_63  error
#define FB_PP_HALVE_AT_64  32
#define FB_PP_HALVE_AT_65  error
#define FB_PP_HALVE_AT_66  33
#define FB_PP_HALVE_AT_67  error
#define FB_PP_HALVE_AT_68  34
#define FB_PP_HALVE_AT_69  error
#define FB_PP_HALVE_AT_70  35
#define FB_PP_HALVE_AT_71  error
#define FB_PP_HALVE_AT_72  36
#define FB_PP_HALVE_AT_73  error
#define FB_PP_HALVE_AT_74  37
#define FB_PP_HALVE_AT_75  error
#define FB_PP_HALVE_AT_76  38
#define FB_PP_HALVE_AT_77  error
#define FB_PP_HALVE_AT_78  39
#define FB_PP_HALVE_AT_79  error
#define FB_PP_HALVE_AT_80  40
#define FB_PP_HALVE_AT_81  error
#define FB_PP_HALVE_AT_82  41
#define FB_PP_HALVE_AT_83  error
#define FB_PP_HALVE_AT_84  42
#define FB_PP_HALVE_AT_85  error
#define FB_PP_HALVE_AT_86  43
#define FB_PP_HALVE_AT_87  error
#define FB_PP_HALVE_AT_88  44
#define FB_PP_HALVE_AT_89  error
#define FB_PP_HALVE_AT_90  45
#define FB_PP_HALVE_AT_91  error
#define FB_PP_HALVE_AT_92  46
#define FB_PP_HALVE_AT_93  error
#define FB_PP_HALVE_AT_94  47
#define FB_PP_HALVE_AT_95  error
#define FB_PP_HALVE_AT_96  48
#define FB_PP_HALVE_AT_97  error
#define FB_PP_HALVE_AT_98  49
#define FB_PP_HALVE_AT_99  error
#define FB_PP_HALVE_AT_100 50
#define FB_PP_HALVE_AT_101 error
#define FB_PP_HALVE_AT_102 51
#define FB_PP_HALVE_AT_103 error
#define FB_PP_HALVE_AT_104 52
#define FB_PP_HALVE_AT_105 error
#define FB_PP_HALVE_AT_106 53
#define FB_PP_HALVE_AT_107 error
#define FB_PP_HALVE_AT_108 54
#define FB_PP_HALVE_AT_109 error
#define FB_PP_HALVE_AT_110 55
#define FB_PP_HALVE_AT_111 error
#define FB_PP_HALVE_AT_112 56
#define FB_PP_HALVE_AT_113 error
#define FB_PP_HALVE_AT_114 57
#define FB_PP_HALVE_AT_115 error
#define FB_PP_HALVE_AT_116 58
#define FB_PP_HALVE_AT_117 error
#define FB_PP_HALVE_AT_118 59
#define FB_PP_HALVE_AT_119 error
#define FB_PP_HALVE_AT_120 60
#define FB_PP_HALVE_AT_121 error
#define FB_PP_HALVE_AT_122 61
#define FB_PP_HALVE_AT_123 error
#define FB_PP_HALVE_AT_124 62
#define FB_PP_HALVE_AT_125 error
#define FB_PP_HALVE_AT_126 63
#define FB_PP_HALVE_AT_127 error
#define FB_PP_HALVE_AT_128 64
#define FB_PP_HALVE_AT_129 error
#define FB_PP_HALVE_AT_130 65
#define FB_PP_HALVE_AT_131 error
#define FB_PP_HALVE_AT_132 66
#define FB_PP_HALVE_AT_133 error
#define FB_PP_HALVE_AT_134 67
#define FB_PP_HALVE_AT_135 error
#define FB_PP_HALVE_AT_136 68
#define FB_PP_HALVE_AT_137 error
#define FB_PP_HALVE_AT_138 69
#define FB_PP_HALVE_AT_139 error
#define FB_PP_HALVE_AT_140 70
#define FB_PP_HALVE_AT_141 error
#define FB_PP_HALVE_AT_142 71
#define FB_PP_HALVE_AT_143 error
#define FB_PP_HALVE_AT_144 72
#define FB_PP_HALVE_AT_145 error
#define FB_PP_HALVE_AT_146 73
#define FB_PP_HALVE_AT_147 error
#define FB_PP_HALVE_AT_148 74
#define FB_PP_HALVE_AT_149 error
#define FB_PP_HALVE_AT_150 75
#define FB_PP_HALVE_AT_151 error
#define FB_PP_HALVE_AT_152 76
#define FB_PP_HALVE_AT_153 error
#define FB_PP_HALVE_AT_154 77
#define FB_PP_HALVE_AT_155 error
#define FB_PP_HALVE_AT_156 78
#define FB_PP_HALVE_AT_157 error
#define FB_PP_HALVE_AT_158 79
#define FB_PP_HALVE_AT_159 error
#define FB_PP_HALVE_AT_160 80
#define FB_PP_HALVE_AT_161 error
#define FB_PP_HALVE_AT_162 81
#define FB_PP_HALVE_AT_163 error
#define FB_PP_HALVE_AT_164 82
#define FB_PP_HALVE_AT_165 error
#define FB_PP_HALVE_AT_166 83
#define FB_PP_HALVE_AT_167 error
#define FB_PP_HALVE_AT_168 84
#define FB_PP_HALVE_AT_169 error
#define FB_PP_HALVE_AT_170 85
#define FB_PP_HALVE_AT_171 error
#define FB_PP_HALVE_AT_172 86
#define FB_PP_HALVE_AT_173 error
#define FB_PP_HALVE_AT_174 87
#define FB_PP_HALVE_AT_175 error
#define FB_PP_HALVE_AT_176 88
#define FB_PP_HALVE_AT_177 error
#define FB_PP_HALVE_AT_178 89
#define FB_PP_HALVE_AT_179 error
#define FB_PP_HALVE_AT_180 90
#define FB_PP_HALVE_AT_181 error
#define FB_PP_HALVE_AT_182 91
#define FB_PP_HALVE_AT_183 error
#define FB_PP_HALVE_AT_184 92
#define FB_PP_HALVE_AT_185 error
#define FB_PP_HALVE_AT_186 93
#define FB_PP_HALVE_AT_187 error
#define FB_PP_HALVE_AT_188 94
#define FB_PP_HALVE_AT_189 error
#define FB_PP_HALVE_AT_190 95
#define FB_PP_HALVE_AT_191 error
#define FB_PP_HALVE_AT_192 96
#define FB_PP_HALVE_AT_193 error
#define FB_PP_HALVE_AT_194 97
#define FB_PP_HALVE_AT_195 error
#define FB_PP_HALVE_AT_196 98
#define FB_PP_HALVE_AT_197 error
#define FB_PP_HALVE_AT_198 99
#define FB_PP_HALVE_AT_199 error
#define FB_PP_HALVE_AT_200 100
#define FB_PP_HALVE_AT_201 error
#define FB_PP_HALVE_AT_202 101
#define FB_PP_HALVE_AT_203 error
#define FB_PP_HALVE_AT_204 102
#define FB_PP_HALVE_AT_205 error
#define FB_PP_HALVE_AT_206 103
#define FB_PP_HALVE_AT_207 error
#define FB_PP_HALVE_AT_208 104
#define FB_PP_HALVE_AT_209 error
#define FB_PP_HALVE_AT_210 105
#define FB_PP_HALVE_AT_211 error
#define FB_PP_HALVE_AT_212 106
#define FB_PP_HALVE_AT_213 error
#define FB_PP_HALVE_AT_214 107
#define FB_PP_HALVE_AT_215 error
#define FB_PP_HALVE_AT_216 108
#define FB_PP_HALVE_AT_217 error
#define FB_PP_HALVE_AT_218 109
#define FB_PP_HALVE_AT_219 error
#define FB_PP_HALVE_AT_220 110
#define FB_PP_HALVE_AT_221 error
#define FB_PP_HALVE_AT_222 111
#define FB_PP_HALVE_AT_223 error
#define FB_PP_HALVE_AT_224 112
#define FB_PP_HALVE_AT_225 error
#define FB_PP_HALVE_AT_226 113
#define FB_PP_HALVE_AT_227 error
#define FB_PP_HALVE_AT_228 114
#define FB_PP_HALVE_AT_229 error
#define FB_PP_HALVE_AT_230 115
#define FB_PP_HALVE_AT_231 error
#define FB_PP_HALVE_AT_232 116
#define FB_PP_HALVE_AT_233 error
#define FB_PP_HALVE_AT_234 117
#define FB_PP_HALVE_AT_235 error
#define FB_PP_HALVE_AT_236 118
#define FB_PP_HALVE_AT_237 error
#define FB_PP_HALVE_AT_238 119
#define FB_PP_HALVE_AT_239 error
#define FB_PP_HALVE_AT_240 120
#define FB_PP_HALVE_AT_241 error
#define FB_PP_HALVE_AT_242 121
#define FB_PP_HALVE_AT_243 error
#define FB_PP_HALVE_AT_244 122
#define FB_PP_HALVE_AT_245 error
#define FB_PP_HALVE_AT_246 123
#define FB_PP_HALVE_AT_247 error
#define FB_PP_HALVE_AT_248 124
#define FB_PP_HALVE_AT_249 error
#define FB_PP_HALVE_AT_250 125
#define FB_PP_HALVE_AT_251 error
#define FB_PP_HALVE_AT_252 126
#define FB_PP_HALVE_AT_253 error
#define FB_PP_HALVE_AT_254 127
#define FB_PP_HALVE_AT_255 error


// Decrease the number
#define FB_PP_HALVE_4(p_value) p_value
#define FB_PP_HALVE_3(p_value) FB_PP_HALVE_4(p_value)
#define FB_PP_HALVE_2(p_value) FB_PP_HALVE_3(p_value)
#define FB_PP_HALVE_1(p_value) FB_PP_HALVE_2(p_value)
#define FB_PP_HALVE(p_value) \
	FB_PP_HALVE_1(FB_PP_CONCAT(FB_PP_HALVE_AT_, p_value))

#endif
